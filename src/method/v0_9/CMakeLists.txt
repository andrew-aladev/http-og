set (PROCESSOR_PREFIX "METHOD_v0_9")
string (TOLOWER ${PROCESSOR_PREFIX} PROCESSOR_PREFIX_LOWER_CASE)

include (GenerateConstantProcessor)
generate_constant_processor (${PROCESSOR_PREFIX} ${PROCESSOR_PREFIX_LOWER_CASE} ${CMAKE_CURRENT_SOURCE_DIR})

if (DEFINED CMAKE_PROCESSOR_CONSTANT)
  set (PROCESSOR_FILE_NAME "processor")
  file (RELATIVE_PATH PROCESSOR_SOURCE_PATH ${CMAKE_CURRENT_SOURCE_DIR} "${PROJECT_SOURCE_DIR}/src")
  set (PROCESSOR_PATH "${PROCESSOR_SOURCE_PATH}/processor/constant")

  configure_file ("${PROCESSOR_PATH}/main.h.in" "${CMAKE_CURRENT_SOURCE_DIR}/${PROCESSOR_FILE_NAME}.h")
  configure_file ("${PROCESSOR_PATH}/main.c.in" "${CMAKE_CURRENT_SOURCE_DIR}/${PROCESSOR_FILE_NAME}.c")
endif ()
